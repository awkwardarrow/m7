CREATE TABLE t1(a INT) ENGINE=InnoDB;
INSERT INTO t1 VALUES (1), (2), (3);
CREATE TABLE t2(a INT) ENGINE=InnoDB;
INSERT INTO t2 VALUES (4), (5), (6);
CREATE TABLE p (
a int
) ENGINE=InnoDB
PARTITION BY RANGE (a)
(PARTITION p0 VALUES LESS THAN (100),
PARTITION p1 VALUES LESS THAN (200),
PARTITION p2 VALUES LESS THAN (300),
PARTITION p3 VALUES LESS THAN (400));
INSERT INTO p VALUES (1), (101), (201), (301);
CREATE TABLE isam_t1(a INT) ENGINE=MyISAM;
INSERT INTO isam_t1 VALUES (1), (2), (3);
CREATE TABLE isam_t2(a INT) ENGINE=MyISAM;
INSERT INTO isam_t2 VALUES (4), (5), (6);
CREATE TABLE isam_p (
a int
) ENGINE=MyISAM
PARTITION BY RANGE (a)
(PARTITION p0 VALUES LESS THAN (100),
PARTITION p1 VALUES LESS THAN (200),
PARTITION p2 VALUES LESS THAN (300),
PARTITION p3 VALUES LESS THAN (400));
INSERT INTO isam_p VALUES (1), (101), (201), (301);
isam_p#P#p0.MYD
isam_p#P#p0.MYI
isam_p#P#p1.MYD
isam_p#P#p1.MYI
isam_p#P#p2.MYD
isam_p#P#p2.MYI
isam_p#P#p3.MYD
isam_p#P#p3.MYI
isam_p.frm
isam_p.par
isam_t1.MYD
isam_t1.MYI
isam_t1.frm
isam_t2.MYD
isam_t2.MYI
isam_t2.frm
p#p#p0.ibd
p#p#p1.ibd
p#p#p2.ibd
p#p#p3.ibd
p.frm
p.par
t1.frm
t1.ibd
t2.frm
t2.ibd
DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t2(a INT) ENGINE=InnoDB;
INSERT INTO t2 VALUES (40), (50), (60);
ALTER TABLE p DROP PARTITION p0;
ALTER TABLE p DROP PARTITION p1;
ALTER TABLE p ADD PARTITION (PARTITION p4 VALUES LESS THAN (500));
ALTER TABLE p ADD PARTITION (PARTITION p5 VALUES LESS THAN (600));
INSERT INTO p VALUES (401), (501);
DROP TABLE isam_t1;
DROP TABLE isam_t2;
CREATE TABLE isam_t2(a INT) ENGINE=MyISAM;
INSERT INTO isam_t2 VALUES (40), (50), (60);
ALTER TABLE isam_p DROP PARTITION p0;
ALTER TABLE isam_p DROP PARTITION p1;
ALTER TABLE isam_p ADD PARTITION (PARTITION p4 VALUES LESS THAN (500));
ALTER TABLE isam_p ADD PARTITION (PARTITION p5 VALUES LESS THAN (600));
INSERT INTO isam_p VALUES (401), (501);
isam_p#P#p0.MYD
isam_p#P#p0.MYI
isam_p#P#p1.MYD
isam_p#P#p1.MYI
isam_p#P#p2.MYD
isam_p#P#p2.MYI
isam_p#P#p3.MYD
isam_p#P#p3.MYI
isam_p.frm
isam_p.par
isam_t1.MYD
isam_t1.MYI
isam_t1.frm
isam_t2.MYD
isam_t2.MYI
isam_t2.frm
p#p#p0.ibd
p#p#p1.ibd
p#p#p2.ibd
p#p#p3.ibd
p.frm
p.par
t1.frm
t1.ibd
t2.frm
t2.ibd
isam_p#P#p0.MYD
isam_p#P#p0.MYI
isam_p#P#p1.MYD
isam_p#P#p1.MYI
isam_p#P#p2.MYD
isam_p#P#p2.MYI
isam_p#P#p3.MYD
isam_p#P#p3.MYI
isam_p.frm
isam_p.par
isam_t1.MYD
isam_t1.MYI
isam_t1.frm
isam_t2.MYD
isam_t2.MYI
isam_t2.frm
p#p#p0.ibd
p#p#p1.ibd
p#p#p2.ibd
p#p#p3.ibd
p.frm
p.par
t1.frm
t1.ibd
t2.frm
t2.ibd
isam_p#P#p2.MYD
isam_p#P#p2.MYI
isam_p#P#p3.MYD
isam_p#P#p3.MYI
isam_p#P#p4.MYD
isam_p#P#p4.MYI
isam_p#P#p5.MYD
isam_p#P#p5.MYI
isam_p.frm
isam_p.par
isam_t2.MYD
isam_t2.MYI
isam_t2.frm
p#p#p2.ibd
p#p#p3.ibd
p#p#p4.ibd
p#p#p5.ibd
p.frm
p.par
t2.frm
t2.ibd
isam_p#P#p2.MYD
isam_p#P#p2.MYI
isam_p#P#p3.MYD
isam_p#P#p3.MYI
isam_p#P#p4.MYD
isam_p#P#p4.MYI
isam_p#P#p5.MYD
isam_p#P#p5.MYI
isam_p.frm
isam_p.par
isam_t2.MYD
isam_t2.MYI
isam_t2.frm
p#p#p2.ibd
p#p#p3.ibd
p#p#p4.ibd
p#p#p5.ibd
p.frm
p.par
t2.frm
t2.ibd
DROP TABLE isam_p;
DROP TABLE isam_t2;
DROP TABLE p;
DROP TABLE t2;
